<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Set Up Backend Infrastructure | CardinalKit Documentation</title><meta name="description" content="">
    <link rel="modulepreload" href="/cardinalkit-docs/assets/app.9be2dd71.js"><link rel="modulepreload" href="/cardinalkit-docs/assets/2-setup.html.bd155a34.js"><link rel="modulepreload" href="/cardinalkit-docs/assets/doctors.adb49bc7.js"><link rel="modulepreload" href="/cardinalkit-docs/assets/2-setup.html.0d4e1748.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.ec857f34.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-start.html.89f4cbaa.js"><link rel="prefetch" href="/cardinalkit-docs/assets/3-app-customization.html.c8e40ccc.js"><link rel="prefetch" href="/cardinalkit-docs/assets/4-alternative-auth.html.ca3068bf.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.aa092a26.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-deploy.html.4c61d23b.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-surveys.html.8b5099b2.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.a1667b74.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.6f3d70c8.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.19731bbe.js"><link rel="prefetch" href="/cardinalkit-docs/assets/setup.html.81e06173.js"><link rel="prefetch" href="/cardinalkit-docs/assets/start.html.001222d4.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.html.ce538133.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.c83b3142.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-start.html.189bf40a.js"><link rel="prefetch" href="/cardinalkit-docs/assets/3-app-customization.html.8cd25305.js"><link rel="prefetch" href="/cardinalkit-docs/assets/4-alternative-auth.html.f6415c90.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.c886f0e9.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-deploy.html.7fba161c.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-surveys.html.cd16bb8f.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.30a1309d.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.47fa8797.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.08d7ecad.js"><link rel="prefetch" href="/cardinalkit-docs/assets/setup.html.3f06c801.js"><link rel="prefetch" href="/cardinalkit-docs/assets/start.html.db2a9025.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.html.cd8562de.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.4d92de52.js"><link rel="prefetch" href="/cardinalkit-docs/assets/Layout.30af5ff2.js">
    <link rel="stylesheet" href="/cardinalkit-docs/assets/style.9db1bf53.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/cardinalkit-docs/" class=""><!----><span class="site-name">CardinalKit Documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://cardinalkit.org" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cardinalkit" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://cardinalkit.org" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cardinalkit" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/cardinalkit-docs/1-cardinalkit-app" class="router-link-active sidebar-item sidebar-heading active" aria-label="CardinalKit iOS App"><!--[--><!--]--> CardinalKit iOS App <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/1-cardinalkit-app/1-start.html" class="sidebar-item" aria-label="Create a New CardinalKit iOS App"><!--[--><!--]--> Create a New CardinalKit iOS App <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Set Up Backend Infrastructure"><!--[--><!--]--> Set Up Backend Infrastructure <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_1-create-a-firebase-account" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. Create a Firebase Account"><!--[--><!--]--> 1. Create a Firebase Account <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_2-link-app-to-firebase-project" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. Link App to Firebase Project"><!--[--><!--]--> 2. Link App to Firebase Project <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_3-setting-up-email-password-authentication" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Setting up Email/Password Authentication"><!--[--><!--]--> 3. Setting up Email/Password Authentication <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_4-setting-up-sign-in-with-apple-optional" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Setting up Sign in with Apple (Optional)"><!--[--><!--]--> 4. Setting up Sign in with Apple (Optional) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_5-setting-up-sign-in-with-google-optional" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Setting up Sign In With Google (Optional)"><!--[--><!--]--> 5. Setting up Sign In With Google (Optional) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html#_6-add-custom-rules-to-the-firebase-database" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. Add Custom Rules to the Firebase Database"><!--[--><!--]--> 6. Add Custom Rules to the Firebase Database <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/1-cardinalkit-app/3-app-customization.html" class="sidebar-item" aria-label="Customize Your App"><!--[--><!--]--> Customize Your App <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/android-app" class="sidebar-item sidebar-heading" aria-label="CardinalKit Android App"><!--[--><!--]--> CardinalKit Android App <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/android-app/start.html" class="sidebar-item" aria-label="Create a New CardinalKit Android App"><!--[--><!--]--> Create a New CardinalKit Android App <!--[--><!--]--></a><!----></li><li><a href="/cardinalkit-docs/android-app/setup.html" class="sidebar-item" aria-label="Set up Backend Infrastructure"><!--[--><!--]--> Set up Backend Infrastructure <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/2-web-dashboard" class="sidebar-item sidebar-heading" aria-label="CardinalKit Web Dashboard"><!--[--><!--]--> CardinalKit Web Dashboard <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/2-web-dashboard/1-deploy.html" class="sidebar-item" aria-label="Setting up the Dashboard"><!--[--><!--]--> Setting up the Dashboard <!--[--><!--]--></a><!----></li><li><a href="/cardinalkit-docs/2-web-dashboard/2-surveys.html" class="sidebar-item" aria-label="Creating Surveys"><!--[--><!--]--> Creating Surveys <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/3-contributing" class="sidebar-item sidebar-heading" aria-label="Contributing"><!--[--><!--]--> Contributing <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/3-contributing/" class="sidebar-item" aria-label="Contributing to CardinalKit"><!--[--><!--]--> Contributing to CardinalKit <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="set-up-backend-infrastructure" tabindex="-1"><a class="header-anchor" href="#set-up-backend-infrastructure" aria-hidden="true">#</a> Set Up Backend Infrastructure</h1><p><img src="/cardinalkit-docs/assets/doctors.711083d7.svg" alt="Doctors using apps" width="250"><br></p><p>Prior to CardinalKit, researchers would need to implement a backend solution of their choosing so data that their subjects were gathering could be securely stored. CardinalKit leverages existing database architecture on the Google Cloud platform to make it as frictionless as possible to get started with collecting information on your users.</p><p><img src="/cardinalkit-docs/assets/connect.f40d5002.svg" alt="drawing" width="250"><br></p><h2 id="_1-create-a-firebase-account" tabindex="-1"><a class="header-anchor" href="#_1-create-a-firebase-account" aria-hidden="true">#</a> 1. Create a Firebase Account</h2><p>Head on over to <a href="https://firebase.google.com">firebase.google.com</a> and set up an account. Note: you may need to use your personal email instead of your university assigned one.</p><p>Once, your account is created, log into your Firebase console (top right) and add a new project. Name the project to be something related to your app for future reference.</p><img src="/cardinalkit-docs/assets/firebase-addproject.719952ac.png" alt="Add a new Firebase Project" width="500"><br><br> It is important that you disable Google Analytics because it is not BAA compliant and then click &quot;Create&quot;. It will take around a minute to set up. <br><br><img src="/cardinalkit-docs/assets/google-analytics.e382ea46.png" alt="Disable Google Analytics" width="400"><br><br> When your project is ready, click &quot;Continue&quot;. <br><br><img src="/cardinalkit-docs/assets/firebase-ready.e9719973.png" alt="Your project is ready" width="500"><p>Now you will be returned to the console. Click &quot;Firestore Database&quot; under the &quot;Build&quot; section in the sidebar, and then &quot;Create database&quot;. <br><br></p><img src="/cardinalkit-docs/assets/firebase-database.50101f7e.png" alt="Create a firestore database" width="950"><br><br><p>Be sure to start the database in test mode so your research IT can configure the rules for the storage.</p><br><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>When developing and testing your application, it is fine to use your own custom Firebase backend. However, in production, it is easier to hand-off database maintenance to your IT department (e.g. Stanford Medicine IT). Their configuration will be guaranteed to be HIPAA compliant.</p></div><img src="/cardinalkit-docs/assets/database-setup-1.ca611857.png" alt="Set your database to test mode" width="450"><br><br><p>Finally, set the deploy location to &quot;us-central&quot; or any location close to your study and click &quot;Enable&quot;.</p><br><img src="/cardinalkit-docs/assets/database-setup-2.0713673c.png" alt="Choose the deploy location" width="450"><h2 id="_2-link-app-to-firebase-project" tabindex="-1"><a class="header-anchor" href="#_2-link-app-to-firebase-project" aria-hidden="true">#</a> 2. Link App to Firebase Project</h2><p>The last step is to configure your CardinalKit app to communicate with your newly created Firebase database. In the sidebar, select &quot;Project Overview&quot; and then &quot;iOS&quot;.</p><br><img src="/cardinalkit-docs/assets/project-overview.43dd99e0.png" alt="Creating a new iOS config in Firebase" width="650"><br><br><p>Fill out the registration form using the bundle ID you selected on while creating your CardinalKit project in Xcode from Step 4 of the previous section. You do not need to answer the other questions.</p><br><br><img src="/cardinalkit-docs/assets/registration.8e7dfabd.png" alt="Registering your CardinalKit app with Firebase" width="650"><br><br><p>Download the &quot;GoogleService-Info.plist&quot; file when prompted. Keep a note of where this file was downloaded on your computer.</p><img src="/cardinalkit-docs/assets/plist.5b64eaf6.png" alt="Link Firebase to App - Step 1" width="800"><br><p>There will be a &quot;GoogleService-Info.plist&quot; in the Xcode project as well located in &quot;CardinalKit-Example&quot; &gt; &quot;CardinalKit&quot; &gt; &quot;Supporting Files&quot;. Delete the existing file and drag in the new file that you just downloaded in the previous step. Run the app again and make sure no errors pop up.</p><img src="/cardinalkit-docs/assets/google-plist.72a0af46.png" alt="Link Firebase to App - Step 2" width="800"><br><br> You don&#39;t need to continue through the rest of the steps and set up the Firebase SDK and initialization code in your app. This is already done for you in CardinalKit. Go through to step 5 and click on &quot;Continue to Console&quot;. <br><br><h2 id="_3-setting-up-email-password-authentication" tabindex="-1"><a class="header-anchor" href="#_3-setting-up-email-password-authentication" aria-hidden="true">#</a> 3. Setting up Email/Password Authentication</h2><p>In Xcode, open the CKConfiguration.plist file in Xcode and edit the <strong>Enabled</strong> key under the <strong>Sign in with User/Password</strong> key to <strong>1</strong>. (If you have just cloned the project, this is already done for you.)</p><br><img src="/cardinalkit-docs/assets/email_authentication-1.9366ecc3.png" alt="Email/Password Authentication Setup Step 1" width="800"><br><p>In your Firebase console, click on &quot;Authentication&quot;, then click on &quot;Email/Password&quot;.</p><img src="/cardinalkit-docs/assets/email_authentication-2.b712c48e.png" alt="Email/Password Authentication Setup Step 2" width="800"><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>If you have already set up an authentication method and are adding another one, you will see a different screen at this step. In that case, click on &quot;Sign-In Method&quot; at the top and click &quot;Add New Provider&quot;, instead.</p></div><br><p>On the next screen, enable &quot;Email/Password Sign On&quot; and click &quot;Save&quot;.</p><img src="/cardinalkit-docs/assets/email_authentication-3.67900fc7.png" alt="Email/Password Authentication Setup Step 3" width="800"><br><p>You should now see that Email/Password authentication has been enabled.</p><h2 id="_4-setting-up-sign-in-with-apple-optional" tabindex="-1"><a class="header-anchor" href="#_4-setting-up-sign-in-with-apple-optional" aria-hidden="true">#</a> 4. Setting up Sign in with Apple (Optional)</h2><p>Read the entire &quot;Before You Begin&quot; section of the Authenticate Using Apple on iOS Firebase tutorial and make sure you have the correct configurations for this feature.</p><p>In your Firebase project, navigate to &quot;Authentication&quot; &gt; &quot;Sign-in method&quot; and click on &quot;Add Provider&quot;.</p><img src="/cardinalkit-docs/assets/apple-sign-in-step1.8fbe13ef.png" alt="Apple Sign In Setup Step 1" width="800"><br><p>Now select &quot;Apple&quot;.</p><img src="/cardinalkit-docs/assets/apple-sign-in-step2.01bcf253.png" alt="Apple Sign In Setup Step 2" width="650"><br><p>Set Apple to &quot;Enabled&quot;.</p><img src="/cardinalkit-docs/assets/apple-sign-in-step3.cfd335a5.png" alt="Apple Sign In Setup Step 3" width="650"><br><p>The last step is to open the CKConfiguration.plist file in Xcode and edit the <strong>Enabled</strong> key under the <strong>Sign in with Apple</strong> key to <strong>1</strong>.</p><h2 id="_5-setting-up-sign-in-with-google-optional" tabindex="-1"><a class="header-anchor" href="#_5-setting-up-sign-in-with-google-optional" aria-hidden="true">#</a> 5. Setting up Sign In With Google (Optional)</h2><p>First, open your Firebase console, click on the &quot;Authentication&quot; tab, then click on &quot;Sign In Method&quot;, then click on &quot;Add New Provider&quot;.</p><img src="/cardinalkit-docs/assets/google-setup-step-1.c4c8e3cc.png" alt="Google Sign In Setup Step 1" width="800"><br><p>Now, click on &quot;Google&quot; in the list of sign-in providers.</p><br><img src="/cardinalkit-docs/assets/google-setup-step-2.ed45a4c0.png" alt="Google Sign In Setup Step 2" width="800"><br><p>Then, fill in your project&#39;s public facing name, choose a project support email address, and click &quot;Save&quot;.</p><br><img src="/cardinalkit-docs/assets/google-setup-step-3.30c71aac.png" alt="Google Sign In Setup Step 3" width="800"><br><p>Next, you will need to create a custom URL scheme in your Xcode project. In Xcode, open your CardinalKit project and double-click the project name in the navigator view on the left. Select your project from the &quot;Targets&quot; section and then select the &quot;Info&quot; tab and expand the &quot;URL Types&quot; section.</p><img src="/cardinalkit-docs/assets/google-setup-step-4.8d7333cb.png" alt="Google Sign In Setup Step 4" width="800"><br><p>Click the <strong>+</strong> button and a URL scheme with your Reversed Client ID. This can be found by opening your <strong>GoogleService-Info.plist</strong> file and looking for the <strong>REVERSED_CLIENT_ID</strong> key. When this is complete your project should look like this:</p><img src="/cardinalkit-docs/assets/google-setup-step-5.9b361a25.png" alt="Google Sign In Setup Step 5" width="800"><br><p>The last step is to open the CKConfiguration.plist file in Xcode and edit the <strong>Enabled</strong> key under the <strong>Sign in with Google</strong> key to <strong>1</strong>.</p><img src="/cardinalkit-docs/assets/google-setup-step-6.44d1c9aa.png" alt="Google Sign In Setup Step 6" width="800"><h2 id="_6-add-custom-rules-to-the-firebase-database" tabindex="-1"><a class="header-anchor" href="#_6-add-custom-rules-to-the-firebase-database" aria-hidden="true">#</a> 6. Add Custom Rules to the Firebase Database</h2><p>The final step is to allow authorized users to upload data to Firebase.</p><p><img src="/cardinalkit-docs/assets/10.18d07480.gif" alt="drawing" width="650"><br></p><p>Navigate to the &quot;Firestore Database&quot; tab in your Firebase dashboard. Find the &quot;Rules&quot; section and edit the text to match the following rule set.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rules_version = &#39;2&#39;;
service cloud.firestore {
  match /databases/{database}/documents/studies/{studyId}/users {
    match /{userId}/{document=**} {
      allow read, write: if request.auth.uid != null;
    }
  }
  match /databases/{database}/documents/studies/{studyId}/carekit-store {
    match /{document=**} {
      allow read, write: if request.auth.uid != null;
    }
   }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now navigate to the &quot;Storage&quot; tab in your Firebase dashboard. Find the &quot;Rules&quot; section there and add the following rules which will allow users to upload files to Cloud Storage (including the signed consent PDF generated during onboarding). You will need to change &quot;edu.stanford.cardinalkitexample&quot; in line 3 to the bundle identifier of your app.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rules_version = &#39;2&#39;;
service firebase.storage {
   match /b/{bucket}/o/studies/edu.stanford.cardinalkitexample {
      match /users/{userId}/{file} {
         allow read, write: if request.auth.uid == userId;
      }
   }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Congrats! You&#39;re now set up to use CardinalKit as a starting point for your research app - run the app within Xcode and test it out!</p><br><p><img src="/cardinalkit-docs/assets/celebrate.ac40cd19.svg" alt="drawing" width="350"><br></p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/cardinalkit/edit/main/1-cardinalkit-app/2-setup.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/cardinalkit-docs/1-cardinalkit-app/1-start.html" class="" aria-label="Create a New CardinalKit iOS App"><!--[--><!--]--> Create a New CardinalKit iOS App <!--[--><!--]--></a></span><span class="next"><a href="/cardinalkit-docs/1-cardinalkit-app/3-app-customization.html" class="" aria-label="Customize Your App"><!--[--><!--]--> Customize Your App <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/cardinalkit-docs/assets/app.9be2dd71.js" defer></script>
  </body>
</html>
