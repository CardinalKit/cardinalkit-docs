<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Setting up the Dashboard | CardinalKit Documentation</title><meta name="description" content="">
    <link rel="modulepreload" href="/cardinalkit-docs/assets/app.9be2dd71.js"><link rel="modulepreload" href="/cardinalkit-docs/assets/1-deploy.html.7fba161c.js"><link rel="modulepreload" href="/cardinalkit-docs/assets/1-deploy.html.4c61d23b.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.ec857f34.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-start.html.89f4cbaa.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-setup.html.0d4e1748.js"><link rel="prefetch" href="/cardinalkit-docs/assets/3-app-customization.html.c8e40ccc.js"><link rel="prefetch" href="/cardinalkit-docs/assets/4-alternative-auth.html.ca3068bf.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.aa092a26.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-surveys.html.8b5099b2.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.a1667b74.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.6f3d70c8.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.19731bbe.js"><link rel="prefetch" href="/cardinalkit-docs/assets/setup.html.81e06173.js"><link rel="prefetch" href="/cardinalkit-docs/assets/start.html.001222d4.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.html.ce538133.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.c83b3142.js"><link rel="prefetch" href="/cardinalkit-docs/assets/1-start.html.189bf40a.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-setup.html.bd155a34.js"><link rel="prefetch" href="/cardinalkit-docs/assets/3-app-customization.html.8cd25305.js"><link rel="prefetch" href="/cardinalkit-docs/assets/4-alternative-auth.html.f6415c90.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.c886f0e9.js"><link rel="prefetch" href="/cardinalkit-docs/assets/2-surveys.html.cd16bb8f.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.30a1309d.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.47fa8797.js"><link rel="prefetch" href="/cardinalkit-docs/assets/index.html.08d7ecad.js"><link rel="prefetch" href="/cardinalkit-docs/assets/setup.html.3f06c801.js"><link rel="prefetch" href="/cardinalkit-docs/assets/start.html.db2a9025.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.html.cd8562de.js"><link rel="prefetch" href="/cardinalkit-docs/assets/404.4d92de52.js"><link rel="prefetch" href="/cardinalkit-docs/assets/Layout.30af5ff2.js">
    <link rel="stylesheet" href="/cardinalkit-docs/assets/style.9db1bf53.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/cardinalkit-docs/" class=""><!----><span class="site-name">CardinalKit Documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://cardinalkit.org" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cardinalkit" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://cardinalkit.org" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cardinalkit" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/cardinalkit-docs/1-cardinalkit-app" class="sidebar-item sidebar-heading" aria-label="CardinalKit iOS App"><!--[--><!--]--> CardinalKit iOS App <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/1-cardinalkit-app/1-start.html" class="sidebar-item" aria-label="Create a New CardinalKit iOS App"><!--[--><!--]--> Create a New CardinalKit iOS App <!--[--><!--]--></a><!----></li><li><a href="/cardinalkit-docs/1-cardinalkit-app/2-setup.html" class="sidebar-item" aria-label="Set Up Backend Infrastructure"><!--[--><!--]--> Set Up Backend Infrastructure <!--[--><!--]--></a><!----></li><li><a href="/cardinalkit-docs/1-cardinalkit-app/3-app-customization.html" class="sidebar-item" aria-label="Customize Your App"><!--[--><!--]--> Customize Your App <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/android-app" class="sidebar-item sidebar-heading" aria-label="CardinalKit Android App"><!--[--><!--]--> CardinalKit Android App <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/android-app/start.html" class="sidebar-item" aria-label="Create a New CardinalKit Android App"><!--[--><!--]--> Create a New CardinalKit Android App <!--[--><!--]--></a><!----></li><li><a href="/cardinalkit-docs/android-app/setup.html" class="sidebar-item" aria-label="Set up Backend Infrastructure"><!--[--><!--]--> Set up Backend Infrastructure <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/2-web-dashboard" class="router-link-active sidebar-item sidebar-heading active" aria-label="CardinalKit Web Dashboard"><!--[--><!--]--> CardinalKit Web Dashboard <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Setting up the Dashboard"><!--[--><!--]--> Setting up the Dashboard <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#requirements" class="router-link-active router-link-exact-active sidebar-item" aria-label="Requirements"><!--[--><!--]--> Requirements <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_1-configure-your-firebase-project" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. Configure Your Firebase Project"><!--[--><!--]--> 1. Configure Your Firebase Project <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_2-create-an-administrator-account" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. Create an Administrator account"><!--[--><!--]--> 2. Create an Administrator account <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_3-update-firebase-security-rules" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Update Firebase Security Rules"><!--[--><!--]--> 3. Update Firebase Security Rules <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_4-create-indexes" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Create Indexes"><!--[--><!--]--> 4. Create Indexes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_5-test-the-dashboard-locally" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Test the Dashboard Locally"><!--[--><!--]--> 5. Test the Dashboard Locally <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cardinalkit-docs/2-web-dashboard/1-deploy.html#_6-deploy-the-dashboard-to-firebase-hosting" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. Deploy the Dashboard to Firebase Hosting"><!--[--><!--]--> 6. Deploy the Dashboard to Firebase Hosting <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/2-web-dashboard/2-surveys.html" class="sidebar-item" aria-label="Creating Surveys"><!--[--><!--]--> Creating Surveys <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cardinalkit-docs/3-contributing" class="sidebar-item sidebar-heading" aria-label="Contributing"><!--[--><!--]--> Contributing <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cardinalkit-docs/3-contributing/" class="sidebar-item" aria-label="Contributing to CardinalKit"><!--[--><!--]--> Contributing to CardinalKit <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="setting-up-the-web-dashboard" tabindex="-1"><a class="header-anchor" href="#setting-up-the-web-dashboard" aria-hidden="true">#</a> Setting Up the Web Dashboard</h1><p>CardinalKit offers a web dashboard that can be used to visualize mobile health data and survey responses, as well as create and schedule surveys.</p><h3 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements" aria-hidden="true">#</a> Requirements</h3><p>Before getting started, you will need to have configured a Firebase project and connected your CardinalKit iOS or Android app to it. Please refer to the <em>Set up Application Infrastructure</em> section in either the iOS or Android section of this guide if you haven&#39;t done this yet, then return to this section to continue setting up the dashboard.</p><p>You will need to have Node.js installed on your system. To check if Node.js is installed, open a terminal window and type &#39;node -v&#39;. If it is installed, the version will be displayed. If not, please visit <a href="https://nodejs.org" target="_blank" rel="noopener noreferrer">nodejs.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to download and install it.</p><p>You will also need to have the Firebase Command Line Interface (CLI) installed on your system. Installation instructions can be found at <a href="https://firebase.google.com/docs/cli" target="_blank" rel="noopener noreferrer">firebase.google.com/docs/cli<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>Once you have both of these tools installed, you can proceed to the first step below.</p><h2 id="_1-configure-your-firebase-project" tabindex="-1"><a class="header-anchor" href="#_1-configure-your-firebase-project" aria-hidden="true">#</a> 1. Configure Your Firebase Project</h2><p>Before starting this section,</p><p>Go to <a href="https://firebase.google.com" target="_blank" rel="noopener noreferrer">firebase.google.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and sign in with the same account that you set up for the mobile app.</p><p>Select the same Firebase project that you created previously. <br><br><img src="/cardinalkit-docs/assets/project.b8c2bc9a.png" alt="drawing" width="450"><br><br> Then select <strong>Project Settings</strong> in the configuration menu. <br><br><img src="/cardinalkit-docs/assets/settings.b6a54d7b.png" alt="drawing" width="450"><br><br> Now select <strong>Add app</strong> to create a new web application and associate it with Firebase. <br><br><img src="/cardinalkit-docs/assets/new-app.2396165c.png" alt="drawing" width="775"><br><br> Click on the <strong>web app</strong> symbol.</p><br><br><img src="/cardinalkit-docs/assets/webapp.0d18d9d2.png" alt="drawing" width="450"><br><br><p>Give your dashboard application a name and then click &quot;Register App&quot; to continue.</p><br><br><img src="/cardinalkit-docs/assets/register1.fe62c34d.png" alt="drawing" width="438"><br><br><p>Copy and save the generated Firebase configuration details.</p><br><img src="/cardinalkit-docs/assets/register2.6f795293.png" alt="drawing" width="650"><br><br><p>Using a text editor, open the <em><strong>cardinal-kit-web/.env</strong></em> file and replace the bolded keys with their values from the configuration you obtained in the last step.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>VUE_APP_FIREBASE_API_KEY = &quot;**apiKey**&quot;
VUE_APP_FIREBASE_AUTH_DOMAIN  = &quot;**authDomain**&quot;
VUE_APP_FIREBASE_PROJECT_ID  = &quot;**projectId**&quot;
VUE_APP_FIREBASE_STORAGE_BUCKET  = &quot;**storageBucket**&quot;
VUE_APP_FIREBASE_MESSAGING_SENDER_ID  = &quot;**messagingSenderId**&quot;
VUE_APP_FIREBASE_APP_ID = &quot;**firebaseConfig.appId**&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-create-an-administrator-account" tabindex="-1"><a class="header-anchor" href="#_2-create-an-administrator-account" aria-hidden="true">#</a> 2. Create an Administrator account</h2><br><p>To manage your dashboard you need to create an Administrator account. This is created from the Firebase console.</p><p>From the <a href="https://console.firebase.google.com" target="_blank" rel="noopener noreferrer">Firebase console<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, click on <strong>Build</strong> on the left sidebar, and then enter the <strong>Authentication</strong> section.</p><br><img src="/cardinalkit-docs/assets/authentication.2c7c68ca.png" alt="drawing" width="550"><br><br><p>And then add a new user.</p><br><img src="/cardinalkit-docs/assets/newuser.03d6e066.png" alt="drawing" width="850"><br><br><p>Enter a username and password for the administrator user.</p><br><img src="/cardinalkit-docs/assets/userpassword.5d8aeccc.png" alt="drawing" width="750"><br><br><p>Now you need to indicate to the dashboard that this new user is an <strong>administrator</strong> user.</p><p>User roles are managed in Firestore Database. For users created from the web, this process will be automatic, it is necessary to do it by hand only once for the administrator user.</p><p>First copy the <strong>UID</strong> of the user you just created. You can do this by hovering over the UID and clicking on the Copy icon.</p><br><img src="/cardinalkit-docs/assets/useruid.7cb03ba5.png" alt="drawing" width="750"><br><br><p>Then click on <strong>Firestore Database</strong>:</p><br><img src="/cardinalkit-docs/assets/firestore.8e88e89a.png" alt="drawing" width="550"><br><br><p>Click <em>Start collection</em> and name the collection <strong>users_roles</strong>.</p><br><img src="/cardinalkit-docs/assets/create-roles-collection.d9880e40.png" alt="" width="550"><br><br><p>Now, within the newly created collection, click <em>Add document</em> and paste in the <strong>UID</strong> of the admin user as the name. Then add a field to the document called <strong>rol</strong> with value <strong>superAdmin</strong>.</p><br><img src="/cardinalkit-docs/assets/add-role-document.58a7a90c.png" alt="" width="550"><br><br><p>The end result should appear as follows:</p><img src="/cardinalkit-docs/assets/admin-role-finished.9203c956.png" alt="drawing" width="850"><h2 id="_3-update-firebase-security-rules" tabindex="-1"><a class="header-anchor" href="#_3-update-firebase-security-rules" aria-hidden="true">#</a> 3. Update Firebase Security Rules</h2><p>In order for your administrator user to be able to access the dashboard, you need to update the <strong>Firebase Security Rules</strong>. This is done from the Firebase console.</p><p>Open <strong>Firestore Database</strong> in the Firebase console, and click on the <strong>Rules</strong> tab. Then replace the rules with the following:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rules_version = &#39;2&#39;;
service cloud.firestore {
	match /databases/{database}/documents{
  	match /studies/{studyId}{
    	allow write: if request.auth!= null
        allow read: if request.auth!= null
   		
        function accessToStudy() {
   			let data = get(/databases/$(database)/documents/users_roles/$(request.auth.uid)).data;
   			return &quot;studies&quot; in data &amp;&amp; studyId in data.studies;
   		}
        
        match /users/{userId}/{path_=**}{
        	allow write: if request.auth!= null &amp;&amp; request.auth.uid == userId
        	
            function accessToUser(){
                let data = get(/databases/$(database)/documents/users_roles/$(request.auth.uid)).data;
                return &quot;users_access&quot; in data &amp;&amp; userId in data.users_access
        	}

          allow read: if request.auth!= null &amp;&amp; 
          (
            request.auth.uid == userId ||
            (
              exists(/databases/$(database)/documents/users_roles/$(request.auth.uid)) &amp;&amp;
              (
                get(/databases/$(database)/documents/users_roles/$(request.auth.uid)).data.rol == &quot;superAdmin&quot; ||
                (
                  get(/databases/$(database)/documents/users_roles/$(request.auth.uid)).data.rol == &quot;doctor&quot; &amp;&amp;
                  (
                    accessToStudy() ||
                    accessToUser()
                  )
                )
              )
            )
          )
        }
        match /surveys/{surveyId}/{path_=**}{
        	allow write: if request.auth.uid != null 
        	allow read: if request.auth.uid != null
        }
        
      }
      match /users_roles/{user}/{path_=**}{
      	allow write: if request.auth.uid != null &amp;&amp;
        	(request.auth.uid == user || 
          	exists(/databases/$(database)/documents/users_roles/$(request.auth.uid)) &amp;&amp;
          	get(/databases/$(database)/documents/users_roles/$(request.auth.uid)).data.rol == &quot;superAdmin&quot;)
        allow read: if request.auth.uid != null
      }
	}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Click <strong>Publish</strong> to save your new rules.</p><h2 id="_4-create-indexes" tabindex="-1"><a class="header-anchor" href="#_4-create-indexes" aria-hidden="true">#</a> 4. Create Indexes</h2><p>Cloud Firestore requires <a href="https://firebase.google.com/docs/firestore/query-data/indexing" target="_blank" rel="noopener noreferrer">indexes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to be created for each query. In this section, we will create custom indexes that our dashboard will use.</p><p>Navigate to <strong>Firestore Database</strong>, then click the <strong>Indexes</strong> tab. Make sure <strong>Composite</strong> is selected.</p><br><br><img src="/cardinalkit-docs/assets/create-indexes.b2c390ad.png" alt="indexes" width="800"><br><br><p>Please add the six indexes that are shown in the image above by clicking <strong>Add Index</strong>. It may take a couple of minutes for the indexes to finish building.</p><h2 id="_5-test-the-dashboard-locally" tabindex="-1"><a class="header-anchor" href="#_5-test-the-dashboard-locally" aria-hidden="true">#</a> 5. Test the Dashboard Locally</h2><p>Now you can test the dashboard locally.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token builtin class-name">cd</span> cardinal-kit-web
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Once in the folder, the first thing is to install all the dependencies that the Vue project needs. For this we will use npm:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>After having everything installed and configured, we can run the project.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">npm</span> run serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_6-deploy-the-dashboard-to-firebase-hosting" tabindex="-1"><a class="header-anchor" href="#_6-deploy-the-dashboard-to-firebase-hosting" aria-hidden="true">#</a> 6. Deploy the Dashboard to Firebase Hosting</h2><p>Once we confirm that our dashboard is working properly locally, we can deploy it to Firebase Hosting.</p><p>First, make sure you are in the <code>cardinal-kit-web/src</code> directory in your terminal.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> cardinal-kit-web/src
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then, we need to install dependencies.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Now, run the build script to create a production build of your dashboard.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then, login to firebase from the command line.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firebase login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Now, connect the directory to your Firebase project.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firebase init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Firebase will go through a series of questions:</p><ul><li>Which Firebase CLI features do you want to set up for this folder? → <strong>hosting: Configure and deploy Firebase Hosting sites</strong></li><li>Please select an option: <strong>Use an existing project</strong></li><li>What do you want to use as your public directory? → <strong>dist</strong></li><li>Configure as a single page app? <strong>Y</strong></li><li>File dist/index.html already exists. Overwrite? <strong>N</strong></li></ul><p>Now, deploy your dashboard to Firebase:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firebase deploy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You will now be given a URL where you can see the dashboard live! Now that your environment is set up, the next time you can just run <code>firebase deploy</code> to deploy your updates.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/cardinalkit/edit/main/2-web-dashboard/1-deploy.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/cardinalkit-docs/2-web-dashboard/2-surveys.html" class="" aria-label="Creating Surveys"><!--[--><!--]--> Creating Surveys <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/cardinalkit-docs/assets/app.9be2dd71.js" defer></script>
  </body>
</html>
